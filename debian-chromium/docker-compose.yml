services:
  chromium-webgl:
    build: .
    image: debian-chromium-webgl
    container_name: chromium_webgl
    
    # --- CRITICAL FOR WEBGL ---
    shm_size: '2gb' 
    
    # --- THE FIX: Load variables from your file ---
    env_file:
      - chromium.env
    
    ports:
      - "8080:8080" # noVNC Web Access
      - "5900:5900" # VNC Client Access
    
    restart: unless-stopped
    
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"